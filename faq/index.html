<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Preguntas Frecuentes - LexSys Docs</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Preguntas Frecuentes";
    var mkdocs_page_input_path = "faq.md";
    var mkdocs_page_url = "/faq/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> LexSys Docs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Inicio</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../instalacion/">Manual de Instalación</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../editor/">Manual de Editor de Contenidos</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../portal/">Manual de Portal de Servicios</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../desk/">Manual de Escritorio de Trabajo</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Preguntas Frecuentes</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#lexsys-preguntas-frecuentes">LexSys - Preguntas Frecuentes</a></li>
                
                    <li><a class="toctree-l4" href="#api">API</a></li>
                
                    <li><a class="toctree-l4" href="#docker">Docker</a></li>
                
                    <li><a class="toctree-l4" href="#editor-de-contenidos">Editor de Contenidos</a></li>
                
                    <li><a class="toctree-l4" href="#escritorio-de-trabajo">Escritorio de Trabajo</a></li>
                
                    <li><a class="toctree-l4" href="#mongodb">MongoDB</a></li>
                
                    <li><a class="toctree-l4" href="#nginx">Nginx</a></li>
                
                    <li><a class="toctree-l4" href="#oracledb">OracleDB</a></li>
                
                    <li><a class="toctree-l4" href="#portal-de-servicios">Portal de Servicios</a></li>
                
                    <li><a class="toctree-l4" href="#postgresql">PostgreSQL</a></li>
                
                    <li><a class="toctree-l4" href="#python">Python</a></li>
                
                    <li><a class="toctree-l4" href="#unixlinux">Unix/Linux</a></li>
                
            
            </ul>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">LexSys Docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Preguntas Frecuentes</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="lexsys-preguntas-frecuentes">LexSys - Preguntas Frecuentes</h2>
<h3 id="api">API</h3>
<h4 id="como-inicio-el-api-en-modo-manual-o-de-desarrollo">¿Como inicio el API en modo manual o de desarrollo?</h4>
<pre><code>cd ~/wrath
ENV/bin/python dev_server.py &lt;nombre_de_ambiente&gt;
</code></pre>
<h4 id="como-consulto-los-eventos-del-api-en-mongodb">¿Como consulto los eventos del API en MongoDB?</h4>
<pre><code>db.getCollection('&lt;ambiente&gt;').find({}).sort({datetime:-1})
</code></pre>
<p>La siguiente sentencia busca todos los eventos que fuerón exitosos:
<em>OK</em>, <em>ERROR</em> también se puede usar.</p>
<pre><code>db.&lt;collection&gt;.find({level:'INFO', status:'OK'})
</code></pre>
<h4 id="como-busco-por-fechas">¿Como busco por fechas?</h4>
<pre><code>db.collection.find({ ... spec ... }).sort({ key: 1 })
</code></pre>
<h4 id="bad-request-timestamp-header-required-with-utc-datetime-in-iso-8601-format">¿BAD REQUEST - Timestamp header required with UTC datetime in ISO 8601 format?</h4>
<p>TODO</p>
<h3 id="docker">Docker</h3>
<h4 id="como-inicio-un-contenedor-ya-existente">¿Como inicio un contenedor ya existente?</h4>
<pre><code>docker start &lt;uuid|name&gt;
</code></pre>
<p>o</p>
<pre><code>docker start -ai &lt;uuid|name&gt;
</code></pre>
<h3 id="editor-de-contenidos">Editor de Contenidos</h3>
<h4 id="que-hago-si-el-editor-no-exporta-con-mensaje-de-error-typeerror-cannot-read-property-meta-of-undefined">¿Que hago si el editor no exporta con mensaje de error <code>TypeError: Cannot read property 'meta' of undefined</code>?</h4>
<pre><code>exportToAPI true boolean
 Rendereando cuerpo formato
 Uniendo cuerpo de formato con su plantilla
 /home/SIGIPPEM/EDITOR/models/procedimiento.coffee:246
           if (body.meta &amp;&amp; body.meta)

 TypeError: Cannot read property 'meta' of undefined
</code></pre>
<p>El editor no encuentra el API, revisar la URL del API en <code>config.json</code></p>
<h3 id="escritorio-de-trabajo">Escritorio de Trabajo</h3>
<h3 id="mongodb">MongoDB</h3>
<h4 id="como-creo-un-usuario-administrador-de-mongodb">¿Como creo un usuario administrador de MongoDB?</h4>
<pre><code>mongo
use admin
db.createUser({ user:"admin", pwd:"&lt;s3cr3t&gt;", roles:[{rol:"userAdminAnyDatabase", db:"admin"}] });
&lt;CTRL+D&gt;
</code></pre>
<h4 id="como-creo-un-usuario-de-mongodb">¿Como creo un usuario de MongoDB?</h4>
<pre><code>mongo
use &lt;new_collection&gt;
db.createUser({ user:"&lt;newuser&gt;", pwd:"&lt;s3cr3t&gt;", roles:[{rol:"readWrite", db:"&lt;new_collection&gt;"}] });
&lt;CTRL+D&gt;
</code></pre>
<h4 id="como-asigno-otros-roles-a-un-usuario-existente">¿Como asigno otros roles a un usuario existente?</h4>
<pre><code>use &lt;colección&gt;
  db.grantRolesToUser(
  "&lt;usuario&gt;", [{ role: "readWrite", db: "&lt;base_de_datos&gt;" }])
</code></pre>
<h4 id="como-importar-un-archivo-de-json">¿Como importar un archivo de JSON?</h4>
<pre><code>mongoimport -d &lt;database&gt; -c &lt;colletion&gt; --jsonArray &lt; &lt;file.json&gt;
</code></pre>
<p>El archivo debe tener un formato:</p>
<pre><code>{ key:value, nestedvalues: { anarray: [firts, secon, third] } }
</code></pre>
<h4 id="como-hacer-busquedas-en-el-log-de-eventos">¿Como hacer búsquedas en el log de eventos?</h4>
<h4 id="runner-error-overflow-sort-stage-buffered-data-usage-of-33598393-bytes-exceeds-internal-limit-of-33554432-bytes">Runner error: Overflow sort stage buffered data usage of 33598393 bytes exceeds internal limit of 33554432 bytes</h4>
<pre><code>db.collection.ensureIndex( { "rank" : 1 } )  // ascending
</code></pre>
<h4 id="como-inicio-mongodb-en-docker">¿Como inicio MongoDB en Docker?</h4>
<p>Para ejecutar una instancia de MongoDB en Docker con seguridad
habilitada.</p>
<pre><code>docker run --name mongodb -d -P -p 27017:27017 mongo --auth
</code></pre>
<p>Si no se desea seguridad puede omitirse el parámetro <code>--auth</code>
db.createUser({user:"admin",pwd:"Qwzx!",roles:[{role:"userAdminAnyDatabase",db:"admin"}]});</p>
<h3 id="nginx">Nginx</h3>
<h4 id="como-instalo-nginx-para-lexsys">¿Como instalo Nginx para LexSys?</h4>
<p>Agrega la siguiente línea en <code>/etc/yum.repos.d/epel.repo</code> y <code>/etc/yum.repos.d/nginx.repo</code></p>
<pre><code>exclude=nginx
</code></pre>
<h3 id="oracledb">OracleDB</h3>
<h4 id="como-inicio-una-instancia-de-la-base-de-datos">¿Como inicio una instancia de la base de datos?</h4>
<pre><code>sqlplus /nolog
connect / as sysdba
startup
&lt;CTRL+D&gt;
lsnrctl start
</code></pre>
<h4 id="como-me-conecto-a-una-instancia-de-oracledb-en-linea-de-comandos-sqlplus">¿Como me conecto a una instancia de OracleDB en línea de comandos? (sqlplus)</h4>
<pre><code>sqlplus &lt;user&gt;/&lt;pass&gt;@&lt;host&gt;[:1521]/&lt;SID&gt;
</code></pre>
<p><strong>Examples:</strong></p>
<pre><code>## Conect as DB administrator
  sqlplus / as sysdba


## Connect as lexsys' schema user on default port to LEXDB oracle
  ## instance
  sqlplus lexusr/s3cr3t@127.0.0.1/LEXDB
</code></pre>
<h4 id="sqlplus-usrliboracle121client64binsqlplus-error-while-loading-shared-libraries-libsqlplusso-cannot-open-shared-object-file-no-such-file-or-director">sqlplus: /usr/lib/oracle/12.1/client64/bin/sqlplus: error while loading shared libraries: libsqlplus.so: cannot open shared object file: No such file or director</h4>
<pre><code>echo 'export ORACLE_HOME=/lib/oracle/11.2' &gt;&gt; ~/.bashrc
echo 'export LD_LIBRARY_PATH=$ORACLE_HOME/lib' &gt;&gt; ~/.bashrc
</code></pre>
<h4 id="como-hago-un-volcado-de-la-base-de-datos">¿Como hago un volcado de la base de datos?</h4>
<pre><code>expdp &lt;user&gt;/&lt;pass&gt;@&lt;SID&gt; schemas=&lt;schema&gt; directory=&lt;dump_path&gt;
  dumpfile=&lt;dump_file&gt; logfile=&lt;log_file&gt;
</code></pre>
<h4 id="ora-12162-tnsnet-service-name-is-incorrectly-specified">ORA-12162: TNS:net service name is incorrectly specified</h4>
<pre><code>export ORACLE_SID=&lt;INSTANCIA&gt;
  export ORACLE_HOME=/u01/app/oracle/product/11.2.0/xe
  export PATH=$ORACLE_HOME/bin:$PATH
</code></pre>
<h4 id="ora-01078-failure-in-processing-system-parameters-lrm-00109-could-not-open-parameter-file">ORA-01078: failure in processing system parameters. LRM-00109: could not open parameter file</h4>
<p>Copiar init.ora a init\<INSTANCIA>.ora</p>
<pre><code>cp
</code></pre>
<h4 id="como-saber-el-tablespace-del-esquema">¿Como saber el tablespace del esquema?</h4>
<pre><code> select owner, table_name, tablespace_name
 from dba_tables
 where table_name='&lt;SOME_TABLE&gt;'
</code></pre>
<h4 id="como-instalo-oracle-db-en-docker">¿Como instalo oracle DB en Docker?</h4>
<pre><code>docker run -dit -p 1521:1521 -p 2222:22 -v /home/oracle:/mnt -v /home/oracle/u01:/u01 --name oracledb centos:7 /bin/bash
</code></pre>
<h3 id="portal-de-servicios">Portal de Servicios</h3>
<p>TODO</p>
<h3 id="postgresql">PostgreSQL</h3>
<h4 id="como-crear-una-base-de-datos">¿Como crear una base de datos?</h4>
<p><strong>SQL</strong></p>
<pre><code>CREATE DATABASE &lt;dbname&gt; WITH ENCODING 'UTF8'
TEMPLATE=template0 OWNER '&lt;owner&gt;'
</code></pre>
<p><strong>Sistema Operativo</strong></p>
<pre><code>createdb -O &lt;owner&gt;
</code></pre>
<h4 id="como-busco-por-coincidencia-parcial-ignorando-mayusculas-o-minusculas">¿Como busco por coincidencia parcial ignorando mayúsculas o minúsculas?</h4>
<pre><code>select case_id, summary from cases
where summary ilike any (array ['prueba%','Prueba%']);
</code></pre>
<h4 id="como-inicio-postgresql-en-un-contenedor-docker">¿Como inicio PostgreSQL en un contenedor Docker?</h4>
<pre><code>docker run -d -P -p &lt;host-ip&gt;:5432:5432 -e POSTGres_PASsword=&lt;pass&gt;
</code></pre>
<p>--name <some-name> postgres</p>
<h3 id="python">Python</h3>
<h4 id="como-instalo-python-27-en-red-hat-enterprise-linux-y-centos-6">¿Como instalo Python 2.7. en Red Hat Enterprise Linux y CentOS 6?</h4>
<p>RHEL/CentOS 6 no incluyen python 2.7, para instalarlo es necesario
habilitar el repositorio SCL.</p>
<p>Instala el repositorio correspondiente desde aquí
Instala python27 ejecutando el comando</p>
<pre><code>scl install python27
</code></pre>
<p>Agrega el script que habilita python 2.7 en <code>~/.bash_profile</code></p>
<pre><code>echo '. /opt/rh/python27/enable' &gt;&gt; ~/.bash_profile
</code></pre>
<h4 id="que-es-uwsgi">¿Que es uWSGI?</h4>
<p>uWSGI es un servidor de aplicaciones python que implementa la Web
Server Gateway Interface</p>
<h3 id="unixlinux">Unix/Linux</h3>
<h4 id="como-sincronizo-la-hora-de-los-servidores">¿Como sincronizo la hora de los servidores?</h4>
<pre><code>ntpdate -s time.nist.gov
</code></pre>
<h4 id="como-genero-el-digest-para-las-peticiones-al-api-en-el-shell">¿Como genero el digest para las peticiones al API en el shell?</h4>
<pre><code>echo -n "value" | openssl dgst -sha1 -hmac "key" | cut -d ' ' -f 2
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../desk/" class="btn btn-neutral" title="Manual de Escritorio de Trabajo"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>FDL &copy; line here</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../desk/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>

</body>
</html>
